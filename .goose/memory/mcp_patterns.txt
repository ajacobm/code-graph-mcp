# mcp patterns streamable-http sse
Official MCP Python SDK patterns discovered:

1. **StreamableHTTP (Modern)**: Uses StreamableHTTPSessionManager with Starlette, Mount("/mcp", app=handler), handles both POST/GET on single endpoint
2. **SSE (Legacy)**: Uses SseServerTransport with separate /sse (GET) and /messages (POST) endpoints  
3. **Server Structure**: Use mcp.server.lowlevel.Server with @app.call_tool() and @app.list_tools() decorators
4. **Content**: Return list[types.ContentBlock] with types.TextContent(type="text", text=...)
5. **Tools**: Return list[types.Tool] with proper inputSchema structure
6. **Key imports**: from mcp.server.lowlevel import Server, mcp.types as types

StreamableHTTP is the modern approach, SSE is legacy but still supported.

